/* frontend/chat-frontend/src/App.css */

/* Overall App container */
.App {
  font-family: sans-serif;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  height: 100vh;
  box-sizing: border-box;
}

.App-header {
  margin-bottom: 20px;
  color: #333;
}

/* Style for the connection status line */
.status-display {
  width: 90%;
  max-width: 1200px;
  background-color: #e0f0ff;
  color: #0056b3;
  padding: 10px 15px;
  margin-bottom: 20px;
  border-radius: 8px;
  font-size: 0.95rem;
  font-weight: bold;
  text-align: center;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

/* Container for the two side-by-side panels */
.split-container {
  display: flex;
  flex-direction: row;
  width: 90%;
  max-width: 1200px;
  flex-grow: 1;
  gap: 20px;
  box-sizing: border-box;
}

/* Left Panel for Input */
.input-panel {
  flex: 1;
  display: flex;
  flex-direction: column;
  /* Adjust justify-content: flex-end to space-between or unset,
     so the message history can grow from the top */
  justify-content: space-between;
  /* This will push input form to bottom if content fills space */
  border: 1px solid #ccc;
  padding: 20px;
  border-radius: 8px;
  background-color: #f0f8ff;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.input-panel h2 {
  margin-top: 0;
  color: #0056b3;
  margin-bottom: 15px;
}

/* NEW: Style for the user's message history within the input panel */
.user-message-history {
  flex-grow: 1;
  /* Allows it to take up available vertical space */
  overflow-y: auto;
  /* Makes it scrollable if content overflows */
  margin-bottom: 15px;
  /* Space between history and input form */
  padding: 10px;
  border: 1px solid #dee;
  /* A subtle border for visual separation */
  border-radius: 4px;
  background-color: #ffffff;
  /* White background for messages */
  text-align: left;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
  /* Inner shadow for depth */
}

/* Right Panel for Results Display */
.results-panel {
  flex: 2;
  display: flex;
  flex-direction: column;
  border: 1px solid #ccc;
  padding: 20px;
  border-radius: 8px;
  background-color: #f9f9f9;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.results-panel h2 {
  margin-top: 0;
  color: #007bff;
  margin-bottom: 15px;
}

/* Adjust existing chat-window styles to fit within results-panel */
.chat-window {
  width: 100%;
  flex-grow: 1;
  overflow-y: scroll;
  padding: 10px;
  margin-bottom: 0;
  text-align: left;
  border: 1px solid #eee;
  border-radius: 4px;
  background-color: #fff;
  box-sizing: border-box;
}

/* Message form (now inside input-panel) */
.message-form {
  display: flex;
  width: 100%;
  /* No margin-top here, as user-message-history has margin-bottom */
}

.message-form input {
  flex-grow: 1;
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 4px;
  margin-right: 10px;
  font-size: 1rem;
}

.message-form button {
  padding: 10px 20px;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 1rem;
}

.message-form button:hover {
  background-color: #0056b3;
}

/* Message styles - apply to both user and AI messages in their respective panels */
.message {
  padding: 8px;
  margin-bottom: 5px;
  border-radius: 5px;
  line-height: 1.4;
  word-wrap: break-word;
}

.message.system {
  font-style: italic;
  color: #777;
  text-align: center;
  background-color: #e9e9e9;
}

.message.chat {
  color: #333;
  text-align: left;
  background-color: #f0f0f0;
}

.sender-name {
  font-weight: bold;
  color: #007bff;
  margin-right: 5px;
}

.message.gemini {
  background-color: #e0ffe0;
  border-left: 4px solid #4CAF50;
  padding-left: 12px;
}

/* NEW: Styles for user messages displayed in the input panel */
.message.user-chat-input {
  background-color: #e6f7ff;
  /* Lighter blue for general user input */
  border-right: 4px solid #87ceeb;
  /* Sky blue border */
  padding-right: 12px;
  text-align: left;
  /* Align user input messages to left in their box */
}

.message.user-sql-input {
  background-color: #fffacd;
  /* Light goldenrod yellow for user's SQL input */
  border-right: 4px solid #FFD700;
  /* Gold right border */
  padding-right: 12px;
  text-align: left;
  /* Align user input messages to left in their box */
}

.message.user-chat-input .sender-name,
.message.user-sql-input .sender-name {
  color: #337ab7;
  /* Consistent color for "You" sender */
}


/* General chat and user messages now refer to AI responses in the results box */
/* These styles are kept for AI's previous 'chat' messages, and future potential AI-driven general chat */
.message.user,
.message.user-gemini {
  /* These styles were previously for user's messages in the main chat history.
       They are no longer directly used for user's messages as they're moved.
       Keeping them commented or removed for clarity if not repurposed.
    */
  display: none;
  /* Hide if still present from old code or not intended for Results panel */
}


/* Ensure existing chat messages are left-aligned */
.message.chat {
  text-align: left;
}
